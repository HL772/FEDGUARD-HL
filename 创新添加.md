# 创新点说明（已实现）

## A. 自适应差分隐私（Adaptive RDP + 动态噪声 + 自适应裁剪）

**已实现内容**
- 采用 RDP 会计累计 ε(t)，可在每轮更新隐私消耗并可视化。  
- 支持噪声调度（如 cosine_decay），根据训练进度动态调整 noise multiplier。  
- 支持自适应裁剪阈值：依据更新范数分位数 + EMA 平滑更新。  

**关键数据流**
- Server 每轮计算/下发本轮 DP 参数（clip_norm、noise_multiplier、delta）。  
- Client 本地训练后执行裁剪与加噪，并上报 ε、pre_dp_norm、clip_applied。  
- Server 汇总隐私记账，并写入指标流。  

**可观测指标**
- ε 记账曲线（accountant）、ε_max、ε_avg  
- 噪声乘子曲线、裁剪率曲线  

---

## B. 个性化联邦学习（FedPer / FedPer‑Dual）

**已实现内容**
- 模型拆分为共享 backbone 与私有 head / private_head。  
- 仅对 backbone 聚合，head 保持客户端私有更新。  
- FedPer‑Dual 支持“共享 backbone + 公共 head + 私有 head”的训练结构。  

**关键数据流**
- Server 下发共享部分参数；Client 本地训练私有 head。  
- 上传时仅回传 backbone 更新，保护个性化参数不外泄。  

**可观测指标**
- 服务端评估曲线（全局模型）  
- 客户端个体准确率分布与公平性指标（均值/最小值/标准差/Jain 指数）  

---

## C. 信誉/贡献度驱动的动态采样

**已实现内容**
- 为每个客户端维护动态评分（EMA），综合训练质量与可靠性。  
- 采用 ε‑greedy + softmax(score) 的采样策略，兼顾探索与最优。  
- 引入公平窗口，避免客户端长期不被选择。  

**评分构成**
- 质量：准确率高、损失低  
- 可靠性：超时惩罚  
- 异常惩罚：被检测异常后降分  

**可观测指标**
- 采样评分排行（贡献排行）  
- 选中次数分布、超时率  

---

## D. 安全闭环（攻击模拟 → 检测 → 鲁棒聚合）

**已实现内容**
- 攻击模拟：scale / sign‑flip / label‑flip，可指定恶意 ranks。  
- 异常检测：基于 loss / norm 的 MAD 鲁棒 z‑score；可选余弦相似度检测。  
- 鲁棒聚合：trimmed mean / median / krum / bulyan。  
- 安全聚合：pairwise masking（模拟掩码抵消逻辑）。  

**检测与防御说明**
- 开启安全聚合时，检测仍记录告警与惩罚评分，但不强制剔除（保证掩码抵消）。  
- 关闭安全聚合时，可直接剔除异常客户端并使用鲁棒聚合。  

**可观测指标**
- 检测 P/R/F1、告警日志、相似度排名  
- 攻击开启/关闭下的收敛对比  

---

## 可视化与展示亮点（已集成）

- Dashboard 支持实时曲线、告警、贡献排行、通信拓扑。  
- 通信拓扑可按轮次回看参与/超时/拉黑/离线状态。  
- 服务端聚合页集中展示安全检测摘要与鲁棒聚合效果。  

---

## 总结

以上创新点均已集成至当前项目中，具备**配置开关、指标记录、可视化展示**三要素，可直接用于课程设计展示与对比实验说明。
